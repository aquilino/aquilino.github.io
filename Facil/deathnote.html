<!DOCTYPE HTML> 


<!-- 

Editorial by HTML5 UP 

html5up.net | @ajlkn 

Free for personal and commercial use under the CCA 3.0 license (html5up.net/license) 

--> 

<html> 

<head> 

<title>DeathNote reto V</title> 

<meta charset="utf-8" /> 

<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /> 

<link rel="stylesheet" href="../assets/css/main.css" /> 

</head> 

<body class="is-preload"> 



<!-- Wrapper --> 

<div id="wrapper"> 



<!-- Main --> 

<div id="main"> 

<div class="inner"> 



<!-- Header --> 

<header id="header"> 

<a href="../index.html" class="logo"><strong>reto V</strong></a> 

<ul class="icons"> 

<li><a href="https://t.me/aquilinoMS" class="icon brands fa-telegram"><span class="label">Telegram</span></a></li> 

<!-- <li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li> 

<li><a href="#" class="icon brands fa-snapchat-ghost"><span class="label">Snapchat</span></a></li> 

<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li> 

<li><a href="#" class="icon brands fa-medium-m"><span class="label">Medium</span></a></li> --> 

</ul> 

</header> 



<!-- Content --> 

<section> 

<header class="main"> 

<h1>DEATHNOTE</h1> 

</header> 



<span class="image main"><img src="../images/reto5/reto5.jpg" alt="" /></span> 



<h2> Enumeración de servicios y puertos </h2> 



<p>Comenzaremos colocando la ip en el navegador y vemos una imagen de un diario miramos el código fuente y tenemos un comentario ,le damos al archivo index2.html y saltamos a otra pagina.</p> 

<p align="center"> 

"index2.html"><font color="black"> Haz Click para utilizar el bolígrafo como llave para ver el doble fondo</font> 

</p> 

<p>En la segunda pagina lo mismo miramos el código fuente y tenemos mas comentarios, le damos a instrucciones.html y nos vamos a otra, en instrucciones no veo nada que me llame la atención.</p> 

<p align="center"> 

"instrucciones.html"><font color="black"> Haz Click para ver las Instrucciones</font> 

</p> 

<span class="image main"><img src="../images/reto5/collage.jpg" alt="" /></span> 

<p>Seguimos con la Enumeración y iniciaremos nmap veremos que solo nos muestra el puerto 80 abierto entonces profundizaremos un poco mas en la búsqueda. Utilizaremos la función --script http-enum para que fuzze un poco el servicio 80.</p> 

<span class="image main"><img src="../images/reto5/nmap.jpg" alt="" /></span> 

<p>Como vemos en la imagen al profundizar el escaneo nos reporta la carpeta wordpress para hacer un login, ya va saliendo algo interesante.Ahora tendremos problemas con la web nos hara un redirect  al localhost, añadiremos al /etc/hosts la ip y de nombre localhost en nuestro localhost lo editaremos un momento le añadimos algo al nombre "localhost.admin " .Volvemos al navegador con la url/wordpress y nos aparece otra pagina,esta web nos arroja mucha información y ademas hay letras en Rojo que destacan mucho.</p> 

<h2>Bypass </h2>
<span class="image main"><img src="../images/reto5/Bypass SSRF1.jpg" alt="" /></span>

<hr class="major" />
<span class="image main"><img src="../images/reto5/clue.jpg" alt="" /></span> 

<p>Pues accedemos a la url/CLUE y tenemos una web con un par de listados uno de sospechosos y otro de combinaciones ,con estos dos listados probaremos con hydra para sacar un usuario y contraseña de wordpress.</p> 

<span class="image main"><img src="../images/reto5/Clue2.jpg" alt="" /></span> 

<hr class="major" /> 

<h2>Utilización de Hydra</h2> 

<p>La herramienta Hydra es muy potente a la hora de hacer fuerza bruta y si tenemos los diccionarios pues mejor.</p> 

<p>hydra -L sospechosos.txt -P combinaciones.txt 192.168.1.220 http-form-post "/wordpress/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Acceder&redirect_to=http%3A%2F%2F192.168.1.220%2Fwordpress%2Fwp-admin%2F&testcookie=1:Nombre de usuario desconocido. Compruébalo de nuevo o inténtalo con tu dirección de correo electrónico."</p> 

<span class="image main"><img src="../images/reto5/cre.jpg" alt="" /></span> 

<hr class="major" /> 

<p>Hacemos login en el panel de wordpress y premio estamos dentro , yo opte a subir una reverse_shell en el archivo 404.php del tema que tiene por defecto. Usaremos la shell que esta en /usr/share/webshells/php/php-reverse-shell.php cambiamos la ip y el puerto y ponemos <strong>nc</strong> a la escucha por el puerto que le indicamos. </p> 

<span class="image main"><img src="../images/reto5/nc.jpg" alt="" /></span> 

<p>Pues ya estamos dentro como usuario www-data ya es algo, yo estuve días buscando estas flags como comente antes pueden estar en cualquier sitio , hice un grep flag * y te aparece todo lo que tenga la palabra flag, aparecieron dentro de la carpen de un tema en un readme</p> 

<span class="image main"><img src="../images/reto5/flags.jpg" alt="" /></span> 

<p>P.D-Duarante el transcurso de la enumeracion  va apareciendo el nombre de <b>kira</b> varias veces. </p>
<hr class="major" /> 

<p>Herramientas utilizadas para este reto: 

<p><a href="https://nmap.org/"><strong>Nmap</strong></a></p> 

<p><a href="https://github.com/vanhauser-thc/thc-hydra"><strong>Hydra</strong></a></p> 

<hr class="major" /> 



<h2>Foro CHE y grupo de telegram</h2> 

<p><a href="http://ctf.comunidadhackingetico.es/home">Comunidad de Hacking Ético</a></p> 

<span class="icon main"><img src="../images/logo.jpg" alt="" /></span> 

<p>Podéis pedir ayuda de cualquier reto a la comunidad. <a href="https://t.me/HackingEticoEs" class="bbcode_url">Grupo de Telegram</a></p>

								</section>

						</div>
					</div>
					<!-- Sidebar -->
					<div id="sidebar">
						<div class="inner">

							<!-- Menu -->
								<nav id="menu">
									<header class="major">
										<h2>Menu</h2>
									</header>
									<ul>
										<li><a href="../index.html">Pagina De Inicio</a></li>

										<!--<li><a href="elements.html">Elements</a></li>-->

										<header class="major">
											<h2>Retos CTF</h2>
										</header>
										<li>
											<span class="opener">Facil</span>
											<ul>
												<li><a href="../Facil/oclat.html">Reto I</a></li>
												<li><a href="../Facil/Pepefrog.html">Reto II</a></li>
												<li><a href="../Facil/Fakenews.html">Reto III</a></li>
												<li><a href="../Facil/Cryptocorp.html">Reto IV</a></li>
												<li><a href="../Facil/deathnote.html">Reto V</a></li>
											</ul>
										</li>
										<li>
											<span class="opener">Medio</span>
											<ul>
												<li><a href="Medio/#">Reto VI</a></li>
												<li><a href="Medio/#">Reto VII</a></li>
											</ul>
										</li>

										<li>
											<span class="opener">Dificil</span>
											<ul>
												<li><a href="Dificil/#">Reto VIII</a></li>
												<li><a href="Dificil/#">Reto IX</a></li>
											</ul>
										</li>
									</ul>
								</nav>

							<!-- Footer -->
							<footer id="footer">
								<p class="copyright">&copy; h1dr0. All rights reserved.| Theme Design By: <a href="https://html5up.net">HTML5 UP</a></p>
								<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
								<span id="busuanzi_container_site_pv">Views: <span id="busuanzi_value_site_pv"></span></span>
								<span class="post-meta-divider">|</span>
								<span id="busuanzi_container_site_uv">Visitors: <span id="busuanzi_value_site_uv"></span></span>
							</footer>
					</div>
				</div>
			</div>

		<!-- Scripts -->
			<script src="/assets/js/jquery.min.js"></script>
			<script src="/assets/js/browser.min.js"></script>
			<script src="/assets/js/breakpoints.min.js"></script>
			<script src="/assets/js/util.js"></script>
			<script src="/assets/js/main.js"></script>

	</body>
</html>